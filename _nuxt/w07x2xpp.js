import{e as _,c as r,f as x,o as n,a as e,t as s,d as y,r as d,g,h as b,v as $,b as k,F as j,i as C,j as B}from"./DFLcqdEn.js";const U=async t=>{const a=_(),o=a.public.weatherApiKey,i=`${a.public.weatherApiBaseUrl}/forecast.json`;return await $fetch(i,{params:{key:o,q:t,days:5,lang:"ru"}})},V={key:0,class:"mt-6 p-4 border rounded-2xl flex flex-col items-start shadow-2xl"},D={class:""},E={class:"uppercase font-semibold"},N={class:"flex items-center"},W=["src"],L={__name:"weatherCard",props:{weather:Object},setup(t){return(a,o)=>t.weather?(n(),r("div",V,[e("div",D,[e("div",E,s(t.weather.location.name),1),e("div",N,[e("img",{src:t.weather.current.condition.icon,alt:""},null,8,W),y(" "+s(t.weather.current.condition.text),1)])]),e("div",null,"Температура: "+s(t.weather.current.temp_c),1),e("div",null,"Влажность: "+s(t.weather.current.humidity)+"%",1),e("div",null,"Напрвление ветра: "+s(t.weather.current.wind_dir),1),e("div",null,"Ветер: "+s(t.weather.current.wind_kph)+" км/ч",1)])):x("",!0)}},S={class:"mt-6 p-4 border rounded-2xl flex flex-col items-start shadow-2xl bg-gradient-to-r from-purple-500 to-blue-500 text-lg"},A={class:""},F={class:"uppercase font-semibold"},K={class:"flex items-center"},M=["src"],O={class:"w-full flex justify-between md:flex-row sm:flex-col sm:gap-3"},R={class:"border p-3 rounded-2xl shadow-2xl"},T={class:"border p-3 rounded-2xl shadow-2xl"},q={class:"border p-3 rounded-2xl shadow-2xl"},z={__name:"weeklyCard",props:{forecast:Object},setup(t){return console.log(t.forecast),(o,c)=>(n(),r("div",S,[e("div",A,[e("div",F,s(new Date(t.forecast.date).toLocaleDateString("ru-RU",{weekday:"long",day:"numeric",month:"long"})),1),e("div",K,[e("img",{src:t.forecast.day.condition.icon,alt:""},null,8,M),e("div",null,s(t.forecast.day.condition.text),1)])]),e("div",O,[e("div",R,[e("div",null,"Макс. температура: "+s(t.forecast.day.maxtemp_c),1),e("div",null,"Мин. температура: "+s(t.forecast.day.mintemp_c),1)]),e("div",T,[e("div",null,"Средняя влажность: "+s(t.forecast.day.avghumidity)+"%",1)]),e("div",q,[e("div",null,"Макс. ветер: "+s(t.forecast.day.maxwind_kph)+"км/ч",1)])])]))}},G={class:"p-8 mx-auto max-w-[1440px]"},H={class:"min-[900px]:flex min-[900px]:gap-3"},I={key:0},J={class:"mx-auto min-[900px]:w-1/3"},P={class:"min-[900px]:grid min-[900px]:grid-cols-2 gap-3"},Q={key:0,class:"mx-auto my-4"},Y={__name:"index",setup(t){const a=d("Нижний Новгород"),o=d(null),c=d(!1),i=d(!1),u=async()=>{c.value=!0,i.value=!1;try{o.value=await U(a.value)}catch{o.value=null,i.value=!0}finally{c.value=!1}};return u(),(h,l)=>{var f;const v=L,p=z;return n(),r("div",G,[e("div",H,[e("form",{class:"flex flex-col gap-2 min-[900px]:w-1/2 min-[900px]:items-center min-[900px]:justify-center",onSubmit:g(u,["prevent"])},[l[1]||(l[1]=e("label",{class:"text-2xl uppercase font-semibold",for:"cityEnter"},"Введите город",-1)),b(e("input",{"onUpdate:modelValue":l[0]||(l[0]=m=>a.value=m),class:"border p-5 text-xl rounded-2xl shadow-2xl bg-gradient-to-r from-gray-400 to-purple-500",type:"text",id:"cityEnter"},null,512),[[$,a.value]]),c.value?(n(),r("p",I,"Загрузка данных ...")):x("",!0)],32),e("div",J,[k(v,{weather:o.value},null,8,["weather"])])]),e("div",P,[(n(!0),r(j,null,C((f=o.value)==null?void 0:f.forecast.forecastday,(m,w)=>(n(),B(p,{key:w,forecast:m},null,8,["forecast"]))),128))]),i.value?(n(),r("div",Q,l[2]||(l[2]=[e("p",{class:"uppercase text-xl font-semibold"}," Нет данных по выбранному городу! ",-1)]))):x("",!0)])}}};export{Y as default};
